{"ts":1370184461818,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n/**\n * @package  JavaScript\n * @license  Apache License, Version 2.0\n * @author  Nigel Cruce\n\n */\n\nvar objData_json;\nvar objMetaData_json;\n\n////////////////////////////////////////////////////////////////////////\n/**\n  * Draw table using data objData_json\n  * expects <div id=\"chart_div\"></div>\n  */\nfunction drawTable() {\n  var arrData = new Array();\n\n  for(var key in objData_json) {\n    arrData.push(new Array(objData_json[key].title, objData_json[key].quantity));\n  }\n\n  var data = new google.visualization.DataTable();\n  var options = { title: '',showRowNumber: false, allowHtml: true };\n\n  data.addColumn('string', 'Category');\n  data.addColumn('number', 'Count');\n  //data.setProperty(0, 0, 'style', 'width:25px');\n  data.addRows(arrData.length);\n  for(var i = 0; i < arrData.length; i++) {\n    data.setCell(i, 0, arrData[i][0], arrData[i][0]);\n    data.setCell(i, 1, arrData[i][1], arrData[i][1]);\n\n  }\n\n  var formatter = new google.visualization.NumberFormat( {fractionDigits: 0} );\n  formatter.format(data, 1);\n\n  var table = new google.visualization.Table(document.getElementById(objMetaData_json.divId_table));\n\n  google.visualization.events.addListener(table, 'ready', function () {\n    var title = 'Category';\n    var width = '100px';\n    $('.google-visualization-table-th:contains(' + title + ')').css('width', width);\n    title = 'Count';\n    width = '50px';\n    $('.google-visualization-table-th:contains(' + title + ')').css('width', width);\n  });\n\n  table.draw(data, options);\n}\n\n////////////////////////////////////////////////////////////////////////\n/**\n  * Draw chart using data objData_json\n  * expects <div id=\"table_div\"></div>\n  */\nfunction drawChart() {\n\n  var arrData = new Array();\n\n  for(var key in objData_json) {\n    arrData.push(new Array(objData_json[key].title, objData_json[key].quantity));\n  }\n\n  var data = google.visualization.arrayToDataTable(arrData);\n\n  var options = { title: objMetaData_json.chartTitle, allowHtml: true, width: 900, height: 500 };\n\n  var chart;\n\n  if( objMetaData_json.chartType == \"pie\" ) {\n    chart = new google.visualization.PieChart(document.getElementById(objMetaData_json.divId));\n  }\n  else if( objMetaData_json.chartType == \"bar\" ) {\n    chart = new google.visualization.BarChart(document.getElementById(objMetaData_json.divId));\n  }\n\n  chart.draw(data, options);\n\n}\n\n////////////////////////////////////////////////////////////////////////\n/**\n  * Draw chart using data objData_json\n  * @tparam JSON    objMetaData_json_in  the format and display details\n  * @tparam string  txtData_json         the data to be displayed, unparsed JSON\n  */\nfunction displayData(objMetaData_json_in, txtData_json) {\n\n  objData_json = JSON.parse(txtData_json);\n  objMetaData_json = objMetaData_json_in;\n\n  var thiskey = objData_jsonX[\"censusLink\"][1][\"keys\"][0];\n  objData_json = objData_jsonX[\"censusLink\"][0][thiskey][\"results\"];\n\n  if( objMetaData_json.chartType != \"table\" ) {\n    google.load(\"visualization\", \"1\", {packages:[\"corechart\"]});\n    google.setOnLoadCallback(drawChart);\n  }\n\n  google.load('visualization', '1', {packages:['table']});\n  google.setOnLoadCallback(drawTable);\n\n}\n////////////////////////////////////////////////////////////////////////\n/**\n  * TEST/EXAMPLE\n  */\nfunction displayData_alt(txtMetaData_json, txtData_json) {\n    var objMetaData_json_in = JSON.parse(txtMetaData_json);\n    displayData(objMetaData_json_in, txtData_json);\n}\n\n////////////////////////////////////////////////////////////////////////\n/**\n  * TEST/EXAMPLE\n  */\nfunction exampleTest(txtMetaData_json, txtData_json) {\n\n    var txtData_jsonA = '{  \"_002E\" : { \"title\" : \"Less than $10,000   \" , \"quantity\" : 31880 },  \"_003E\" : { \"title\" : \"$10,000 to $14,999  \" , \"quantity\" : 18130 },  \"_004E\" : { \"title\" : \"$15,000 to $19,999  \" , \"quantity\" : 15638 },  \"_005E\" : { \"title\" : \"$20,000 to $24,999  \" , \"quantity\" : 16369 },  \"_006E\" : { \"title\" : \"$25,000 to $29,999  \" , \"quantity\" : 15694 },  \"_007E\" : { \"title\" : \"$30,000 to $34,999  \" , \"quantity\" : 17698 },  \"_008E\" : { \"title\" : \"$35,000 to $39,999  \" , \"quantity\" : 15632 },  \"_009E\" : { \"title\" : \"$40,000 to $44,999  \" , \"quantity\" : 16647 },  \"_010E\" : { \"title\" : \"$45,000 to $49,999  \" , \"quantity\" : 12285 },  \"_011E\" : { \"title\" : \"$50,000 to $59,999  \" , \"quantity\" : 25852 },  \"_012E\" : { \"title\" : \"$60,000 to $74,999  \" , \"quantity\" : 31455 },  \"_013E\" : { \"title\" : \"$75,000 to $99,999  \" , \"quantity\" : 37448 },  \"_014E\" : { \"title\" : \"$100,000 to $124,999\" , \"quantity\" : 29482 },  \"_015E\" : { \"title\" : \"$125,000 to $149,999\" , \"quantity\" : 17489 },  \"_016E\" : { \"title\" : \"$150,000 to $199,999\" , \"quantity\" : 21996 },  \"_017E\" : { \"title\" : \"$200,000 or more    \" , \"quantity\" : 33768 } }';\n\n    var txtData_jsonB = '{\"censusLink\":[ {\"income\":{\"_001E\":{\"title\":\"Total\",\"quantity\":\"357463\"},\"results\":{\"_002E\":{\"title\":\"Less than $10,000\",\"quantity\":\"31880\"},\"_003E\":{\"title\":\"$10,000 to $14,999\",\"quantity\":\"18130\"},\"_004E\":{\"title\":\"$15,000 to $19,999\",\"quantity\":\"15638\"},\"_005E\":{\"title\":\"$20,000 to $24,999\",\"quantity\":\"16369\"},\"_006E\":{\"title\":\"$25,000 to $29,999\",\"quantity\":\"15694\"},\"_007E\":{\"title\":\"$30,000 to $34,999\",\"quantity\":\"17698\"},\"_008E\":{\"title\":\"$35,000 to $39,999\",\"quantity\":\"15632\"},\"_009E\":{\"title\":\"$40,000 to $44,999\",\"quantity\":\"16647\"},\"_010E\":{\"title\":\"$45,000 to $49,999\",\"quantity\":\"12285\"},\"_011E\":{\"title\":\"$50,000 to $59,999\",\"quantity\":\"25852\"},\"_012E\":{\"title\":\"$60,000 to $74,999\",\"quantity\":\"31455\"},\"_013E\":{\"title\":\"$75,000 to $99,999\",\"quantity\":\"37448\"},\"_014E\":{\"title\":\"$100,000 to $124,999\",\"quantity\":\"29482\"},\"_015E\":{\"title\":\"$125,000 to $149,999\",\"quantity\":\"17489\"},\"_016E\":{\"title\":\"$150,000 to $199,999\",\"quantity\":\"21996\"},\"_017E\":{\"title\":\"$200,000 or more\",\"quantity\":\"33768\"}}}}, {\"keys\" : [\"income\"] } ]}';\n\n    var txtData_jsonC = '{ \"_002E\":{\"title\":\"Less than $10,000\",\"quantity\":\"31880\"},\"_003E\":{\"title\":\"$10,000 to $14,999\",\"quantity\":\"18130\"},\"_004E\":{\"title\":\"$15,000 to $19,999\",\"quantity\":\"15638\"},\"_005E\":{\"title\":\"$20,000 to $24,999\",\"quantity\":\"16369\"},\"_006E\":{\"title\":\"$25,000 to $29,999\",\"quantity\":\"15694\"},\"_007E\":{\"title\":\"$30,000 to $34,999\",\"quantity\":\"17698\"},\"_008E\":{\"title\":\"$35,000 to $39,999\",\"quantity\":\"15632\"},\"_009E\":{\"title\":\"$40,000 to $44,999\",\"quantity\":\"16647\"},\"_010E\":{\"title\":\"$45,000 to $49,999\",\"quantity\":\"12285\"},\"_011E\":{\"title\":\"$50,000 to $59,999\",\"quantity\":\"25852\"},\"_012E\":{\"title\":\"$60,000 to $74,999\",\"quantity\":\"31455\"},\"_013E\":{\"title\":\"$75,000 to $99,999\",\"quantity\":\"37448\"},\"_014E\":{\"title\":\"$100,000 to $124,999\",\"quantity\":\"29482\"},\"_015E\":{\"title\":\"$125,000 to $149,999\",\"quantity\":\"17489\"},\"_016E\":{\"title\":\"$150,000 to $199,999\",\"quantity\":\"21996\"},\"_017E\":{\"title\":\"$200,000 or more\",\"quantity\":\"33768\" }}';\n\n    // Pie\n    var txtMetaData_jsonA = '{ \"divId\" : \"chart_div\", \"divId_table\" : \"table_div\"  , \"chartType\"  : \"pie\" , \"chartTitle\" : \"Test chartTitle\"}';\n\n    // Pie\n    var txtMetaData_jsonB = '{ \"divId\" : \"chart_div\", \"divId_table\" : \"table_div\"  , \"chartType\"  : \"bar\" , \"chartTitle\" : \"other Test chartTitle\"}';\n\n    // Table only\n    var txtMetaData_jsonC = '{ \"divId\" : \"chart_div\", \"divId_table\" : \"table_div\"  , \"chartType\"  : \"table\" , \"chartTitle\" : \"other Test chartTitle\"}';\n\n\n    displayData_alt(txtMetaData_jsonA, txtData_jsonB);\n}\n\n/**\n<script language=\"JavaScript\" type=\"text/javascript\">\n<!-- Hide script\n//<![CDATA[\nexampleTest();\n//]]> End script hiding -->\n</script>\n*/\n"]],"start1":0,"start2":0,"length1":0,"length2":7994}]],"length":7994}
{"contributors":[],"silentsave":true,"ts":1370185179192,"patch":[[{"diffs":[[0,"taData_json_in, "],[-1,"txt"],[1,"obj"],[0,"Data_json) {\n\n  "]],"start1":3180,"start2":3180,"length1":35,"length2":35}]],"length":7994,"saved":false}
{"ts":1370185182048,"patch":[[{"diffs":[[0,"n) {\n\n  "],[1,"//"],[0,"objData_"]],"start1":3207,"start2":3207,"length1":16,"length2":18}]],"length":7996,"saved":false}
{"ts":1370185189667,"patch":[[{"diffs":[[0,"objData_json"],[1,"_in"],[0,") {\n\n  //obj"]],"start1":3196,"start2":3196,"length1":24,"length2":27}]],"length":7999,"saved":false}
{"ts":1370185194076,"patch":[[{"diffs":[[0,"n) {\n\n  "],[-1,"//"],[0,"objData_"]],"start1":3210,"start2":3210,"length1":18,"length2":16}]],"length":7997,"saved":false}
{"ts":1370185200596,"patch":[[{"diffs":[[0,"_json = "],[-1,"JSON.parse(txt"],[1,"obj"],[0,"Data_jso"]],"start1":3225,"start2":3225,"length1":30,"length2":19},{"diffs":[[0,"objData_json"],[-1,")"],[0,";\n  objMetaD"]],"start1":3233,"start2":3233,"length1":25,"length2":24}]],"length":7985,"saved":false}
{"ts":1370185202774,"patch":[[{"diffs":[[0,"ata_json"],[1,"_in"],[0,";\n  objM"]],"start1":3237,"start2":3237,"length1":16,"length2":19}]],"length":7988,"saved":false}
{"ts":1370185302748,"patch":[[{"diffs":[[0,"\n\n  objData_json"],[1,"X"],[0," = objData_json_"]],"start1":3214,"start2":3214,"length1":32,"length2":33}]],"length":7989,"saved":false}
{"ts":1370185306962,"patch":[[{"diffs":[[0,"n) {\n\n  "],[1,"var "],[0,"objData_"]],"start1":3210,"start2":3210,"length1":16,"length2":20}]],"length":7993,"saved":false}
{"contributors":[],"silentsave":true,"ts":1370186061181,"patch":[[{"diffs":[[0,"Link\"][1"],[-1,"]"],[0,"[\"keys\"]"]],"start1":3335,"start2":3335,"length1":17,"length2":16}]],"length":7992,"saved":false}
{"ts":1370186061984,"patch":[[{"diffs":[[0,"k\"]["],[-1,"1["],[0,"\"key"]],"start1":3338,"start2":3338,"length1":10,"length2":8}]],"length":7990,"saved":false}
{"ts":1370186068551,"patch":[[{"diffs":[[0,"[\"keys\"]"],[-1,"[0]"],[0,";\n  objD"]],"start1":3341,"start2":3341,"length1":19,"length2":16}]],"length":7987,"saved":false}
{"ts":1370186077413,"patch":[[{"diffs":[[0,"[\"keys\"]"],[1,"[]"],[0,";\n  objD"]],"start1":3341,"start2":3341,"length1":16,"length2":18}]],"length":7989,"saved":false}
{"ts":1370186078555,"patch":[[{"diffs":[[0,"\"keys\"]["],[1,"0"],[0,"];\n  obj"]],"start1":3342,"start2":3342,"length1":16,"length2":17}]],"length":7990,"saved":false}
{"ts":1370186105478,"patch":[[{"diffs":[[0,"sLink\"]["],[-1,"0]"],[0,"[thiskey"]],"start1":3391,"start2":3391,"length1":18,"length2":16}]],"length":7988,"saved":false}
{"ts":1370186105938,"patch":[[{"diffs":[[0,"sLink\"]["],[-1,"["],[0,"thiskey]"]],"start1":3391,"start2":3391,"length1":17,"length2":16}]],"length":7987,"saved":false}
{"ts":1370187075099,"patch":[[{"diffs":[[0,"usLink\":"],[-1,"["],[0," {\"incom"]],"start1":5291,"start2":5291,"length1":17,"length2":16}]],"length":7986,"saved":false}
{"ts":1370187079401,"patch":[[{"diffs":[[0,"ome\"] } "],[-1,"]"],[0,"}';\n\n   "]],"start1":6318,"start2":6318,"length1":17,"length2":16}]],"length":7985,"saved":false}
{"contributors":[],"silentsave":true,"ts":1370191267670,"patch":[[{"diffs":[[0,"json[key].title,"],[1,"parseInt("],[0," objData_json[ke"]],"start1":962,"start2":962,"length1":32,"length2":41},{"diffs":[[0,"[key].quantity))"],[1," )"],[0,";\n  }\n\n  var dat"]],"start1":1000,"start2":1000,"length1":32,"length2":34},{"diffs":[[0,".title, "],[1,"parseInt("],[0,"objData_"]],"start1":2342,"start2":2342,"length1":16,"length2":25},{"diffs":[[0,"antity))"],[1,")"],[0,";\n  }\n\n "]],"start1":2379,"start2":2379,"length1":16,"length2":17},{"diffs":[[0,"tions);\n\n}\n\n"],[1,"\n"],[0,"////////////"]],"start1":2889,"start2":2889,"length1":24,"length2":25},{"diffs":[[0,"ed JSON\n  */"],[1,"\n\n \n======="],[0,"\nfunction di"]],"start1":3163,"start2":3163,"length1":24,"length2":35},{"diffs":[[0," {\n\n"],[-1,"  var objData_jsonX = objData_json_in;\n  objMetaData_json = objMetaData_json_in;\n\n"],[0,"  va"]],"start1":3245,"start2":3245,"length1":90,"length2":8},{"diffs":[[0,"y = objData_json"],[-1,"X"],[1,"_in"],[0,"[\"censusLink\"][\""]],"start1":3261,"start2":3261,"length1":33,"length2":35},{"diffs":[[0,"ata_json"],[-1,"X"],[1,"_in"],[0,"[\"census"]],"start1":3328,"start2":3328,"length1":17,"length2":19},{"diffs":[[0,"sults\"];"],[1,"\n  objMetaData_json = objMetaData_json_in;"],[0,"\n\n  if( "]],"start1":3366,"start2":3366,"length1":16,"length2":58},{"diffs":[[0,"le);\n\n}\n"],[1,"\n\n\n\n>>>>>>> 10f53eec3c3399f523e510bcb56f1f8f66dd086e\n"],[0,"////////"]],"start1":3670,"start2":3670,"length1":16,"length2":69},{"diffs":[[0,"///\n/**\n  * "],[-1,"TEST/EXAMPLE"],[1,"temporary"],[0,"\n  */\nfuncti"]],"start1":3800,"start2":3800,"length1":36,"length2":33},{"diffs":[[0,"_json);\n"],[1,"\n    var objData_json_in = JSON.parse(txtData_json);\n\n"],[0,"    disp"]],"start1":3938,"start2":3938,"length1":16,"length2":70},{"diffs":[[0,"son_in, "],[-1,"txt"],[1,"obj"],[0,"Data_jso"]],"start1":4029,"start2":4029,"length1":19,"length2":19},{"diffs":[[0,"ata_json"],[1,"_in"],[0,");\n}\n\n//"]],"start1":4041,"start2":4041,"length1":16,"length2":19},{"diffs":[[0,"  * "],[-1,"TEST/EXAMPLE"],[1,"demonstrate"],[0,"\n  *"]],"start1":4135,"start2":4135,"length1":20,"length2":19},{"diffs":[[0,"xtData_jsonB"],[1,"1"],[0," = '{\"census"]],"start1":5372,"start2":5372,"length1":24,"length2":25},{"diffs":[[0,"usLink\":"],[-1," "],[0,"{\"income"]],"start1":5395,"start2":5395,"length1":17,"length2":16},{"diffs":[[0,"income\"] } }';\n\n"],[1,"    var txtData_jsonB = '{\"censusLink\":{\"income\":{\"_001E\":{\"title\":\"Total\",\"quantity\":\"357463\"},\"results\":{\"_002E\":{\"title\":\"Less than $10,000\",\"quantity\":\"31880\"},\"_003E\":{\"title\":\"$10,000 to $14,999\",\"quantity\":\"18130\"},\"_004E\":{\"title\":\"$15,000 to $19,999\",\"quantity\":\"15638\"},\"_005E\":{\"title\":\"$20,000 to $24,999\",\"quantity\":\"16369\"},\"_006E\":{\"title\":\"$25,000 to $29,999\",\"quantity\":\"15694\"},\"_007E\":{\"title\":\"$30,000 to $34,999\",\"quantity\":\"17698\"},\"_008E\":{\"title\":\"$35,000 to $39,999\",\"quantity\":\"15632\"},\"_009E\":{\"title\":\"$40,000 to $44,999\",\"quantity\":\"16647\"},\"_010E\":{\"title\":\"$45,000 to $49,999\",\"quantity\":\"12285\"},\"_011E\":{\"title\":\"$50,000 to $59,999\",\"quantity\":\"25852\"},\"_012E\":{\"title\":\"$60,000 to $74,999\",\"quantity\":\"31455\"},\"_013E\":{\"title\":\"$75,000 to $99,999\",\"quantity\":\"37448\"},\"_014E\":{\"title\":\"$100,000 to $124,999\",\"quantity\":\"29482\"},\"_015E\":{\"title\":\"$125,000 to $149,999\",\"quantity\":\"17489\"},\"_016E\":{\"title\":\"$150,000 to $199,999\",\"quantity\":\"21996\"},\"_017E\":{\"title\":\"$200,000 or more\",\"quantity\":\"33768\"}}},\"keys\":[\"income\"]}}';\n\n"],[0,"    var txtData_"]],"start1":6418,"start2":6418,"length1":32,"length2":1095},{"diffs":[[0,"tTitle\"}';\n\n"],[1,"\n"],[0,"    // "],[-1,"Pie"],[1,"bar"],[0,"\n    var txt"]],"start1":8604,"start2":8604,"length1":34,"length2":35},{"diffs":[[0,"_jsonB);"],[-1,""],[0,""],[1,"\n"],[0,"\n}\n\n/**\n"]],"start1":8997,"start2":8997,"length1":16,"length2":17}]],"length":9153,"saved":false}
{"ts":1370191273789,"patch":[[{"diffs":[[0,"\n\n \n"],[-1,"======="],[0,"\nfun"]],"start1":3175,"start2":3175,"length1":15,"length2":8}]],"length":9146,"saved":false}
{"ts":1370191281047,"patch":[[{"diffs":[[0,"\n\n\n\n"],[-1,"\n>>>>>>> 10f53eec3c3399f523e510bcb56f1f8f66dd086e\n"],[0,"////"]],"start1":3670,"start2":3670,"length1":58,"length2":8}]],"length":9096,"saved":false}
{"ts":1370191282296,"patch":[[{"diffs":[[0,"e);\n\n}\n\n"],[-1,"\n\n"],[0,"////////"]],"start1":3664,"start2":3664,"length1":18,"length2":16}]],"length":9094,"saved":false}
{"ts":1370191376769,"patch":[[{"diffs":[[0,"le\" ) {\n    "],[1,"//"],[0,"google.load("]],"start1":3451,"start2":3451,"length1":24,"length2":26}]],"length":9096,"saved":false}
{"ts":1370191379579,"patch":[[{"diffs":[[0,"rt);\n  }\n\n  "],[1,"//"],[0,"google.load("]],"start1":3562,"start2":3562,"length1":24,"length2":26}]],"length":9098,"saved":false}
